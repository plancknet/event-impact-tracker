import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Label } from "@/components/ui/label";
import { Input } from "@/components/ui/input";
import { Checkbox } from "@/components/ui/checkbox";
import { Textarea } from "@/components/ui/textarea";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import { RadioGroup, RadioGroupItem } from "@/components/ui/radio-group";

export interface EditorialParametersData {
  tone: string;
  audience: string;
  language: string;
  duration: string;
  durationUnit: "minutes" | "words";
  scriptType: string;
  includeCta: boolean;
  ctaText: string;
}

interface EditorialParametersProps {
  parameters: EditorialParametersData;
  onChange: (params: EditorialParametersData) => void;
}

export function EditorialParameters({ parameters, onChange }: EditorialParametersProps) {
  const updateParam = <K extends keyof EditorialParametersData>(
    key: K,
    value: EditorialParametersData[K]
  ) => {
    onChange({ ...parameters, [key]: value });
  };

  return (
    <Card>
      <CardHeader className="pb-3">
        <CardTitle className="text-lg">Configura√ß√µes do Conte√∫do</CardTitle>
      </CardHeader>
      <CardContent className="space-y-4">
        {/* Tom e Estilo */}
        <div className="space-y-2">
          <Label className="flex items-center gap-2">
            üé≠ Tom e Estilo
          </Label>
          <Select value={parameters.tone} onValueChange={(v) => updateParam("tone", v)}>
            <SelectTrigger>
              <SelectValue placeholder="Selecione o tom" />
            </SelectTrigger>
            <SelectContent>
              <SelectItem value="neutro">Neutro</SelectItem>
              <SelectItem value="jornalistico">Jornal√≠stico</SelectItem>
              <SelectItem value="educativo">Educativo</SelectItem>
              <SelectItem value="tecnico">T√©cnico</SelectItem>
              <SelectItem value="humoristico">Humor√≠stico</SelectItem>
              <SelectItem value="descontraido">Descontraido e informal</SelectItem>
              <SelectItem value="storytelling">Storytelling</SelectItem>
            </SelectContent>
          </Select>
        </div>

        {/* P√∫blico-alvo */}
        <div className="space-y-2">
          <Label className="flex items-center gap-2">
            üßë P√∫blico-alvo
          </Label>
          <Select value={parameters.audience} onValueChange={(v) => updateParam("audience", v)}>
            <SelectTrigger>
              <SelectValue placeholder="Selecione o p√∫blico" />
            </SelectTrigger>
            <SelectContent>
              <SelectItem value="criancas">Crian√ßas</SelectItem>
              <SelectItem value="adolescentes">Adolescentes</SelectItem>
              <SelectItem value="adultos">Adultos</SelectItem>
              <SelectItem value="publico_geral">P√∫blico Geral</SelectItem>
              <SelectItem value="especialistas">Especialistas</SelectItem>
            </SelectContent>
          </Select>
        </div>

        {/* Idioma */}
        <div className="space-y-2">
          <Label className="flex items-center gap-2">
            üåç Idioma
          </Label>
          <Select value={parameters.language} onValueChange={(v) => updateParam("language", v)}>
            <SelectTrigger>
              <SelectValue placeholder="Selecione o idioma" />
            </SelectTrigger>
            <SelectContent>
              <SelectItem value="Portugu√™s">Portugu√™s</SelectItem>
              <SelectItem value="Ingl√™s">Ingl√™s</SelectItem>
              <SelectItem value="Espanhol">Espanhol</SelectItem>
              <SelectItem value="Franc√™s">Franc√™s</SelectItem>
              <SelectItem value="Italiano">Italiano</SelectItem>
              <SelectItem value="Alem√£o">Alem√£o</SelectItem>
            </SelectContent>
          </Select>
        </div>

        {/* Dura√ß√£o */}
        <div className="space-y-2">
          <Label className="flex items-center gap-2">
            ‚è±Ô∏è Dura√ß√£o Aproximada
          </Label>
          <div className="flex gap-2">
            <Input
              type="number"
              min="1"
              value={parameters.duration}
              onChange={(e) => updateParam("duration", e.target.value)}
              className="w-24"
            />
            <RadioGroup
              value={parameters.durationUnit}
              onValueChange={(v) => updateParam("durationUnit", v as "minutes" | "words")}
              className="flex gap-4"
            >
              <div className="flex items-center space-x-2">
                <RadioGroupItem value="minutes" id="minutes" />
                <Label htmlFor="minutes" className="font-normal">Minutos</Label>
              </div>
              <div className="flex items-center space-x-2">
                <RadioGroupItem value="words" id="words" />
                <Label htmlFor="words" className="font-normal">Palavras</Label>
              </div>
            </RadioGroup>
          </div>
        </div>

        {/* Tipo de Roteiro */}
        <div className="space-y-2">
          <Label className="flex items-center gap-2">
            üé• Tipo de Roteiro
          </Label>
          <Select value={parameters.scriptType} onValueChange={(v) => updateParam("scriptType", v)}>
            <SelectTrigger>
              <SelectValue placeholder="Selecione o tipo" />
            </SelectTrigger>
            <SelectContent>
              <SelectItem value="video_curto">V√≠deo Curto</SelectItem>
              <SelectItem value="video_longo">V√≠deo Longo</SelectItem>
              <SelectItem value="telejornal">Telejornal</SelectItem>
              <SelectItem value="podcast">Podcast</SelectItem>
              <SelectItem value="narracao_simples">Narra√ß√£o Simples</SelectItem>
            </SelectContent>
          </Select>
        </div>

        {/* CTA */}
        <div className="space-y-2">
          <div className="flex items-center space-x-2">
            <Checkbox
              id="includeCta"
              checked={parameters.includeCta}
              onCheckedChange={(checked) => updateParam("includeCta", !!checked)}
            />
            <Label htmlFor="includeCta" className="flex items-center gap-2 font-normal">
              üì£ Incluir Chamada para A√ß√£o (CTA)
            </Label>
          </div>
          {parameters.includeCta && (
            <Textarea
              placeholder="Descreva a chamada para a√ß√£o desejada..."
              value={parameters.ctaText}
              onChange={(e) => updateParam("ctaText", e.target.value)}
              className="mt-2"
            />
          )}
        </div>
      </CardContent>
    </Card>
  );
}
